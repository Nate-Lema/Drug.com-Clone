import{a as L}from"./chunk-ZA6DTMJJ.js";import{c as R,f as $,g as I}from"./chunk-SP3ND3RW.js";import"./chunk-FZDFYFOH.js";import{Eb as m,Fb as M,Gb as y,Ib as k,Lb as C,Oa as s,Za as l,aa as c,ca as v,d as a,e as g,eb as x,f as u,kb as _,lb as w,mb as h,nb as d,qa as f,vb as b}from"./chunk-YNHFQ7LH.js";var S=["class","review"],T=(o,e)=>e._id,B=(o,e)=>["/review_detail",o,"review",e];function E(o,e){if(o&1&&(h(0,"a",2)(1,"p")(2,"strong"),m(3),d(),m(4),d()()),o&2){let i,n=e.$implicit,O=b();x("routerLink",C(3,B,(i=O.medication$())==null?null:i._id,n._id)),s(3),M(n.by.fullname),s(),y(":",n.review,"")}}var A=(()=>{var e,i;let n=class n{constructor(){g(this,e);g(this,i);this.title=c(R),u(this,e,c(L)),u(this,i,c($)),this.medication_id=f(""),this.medication$=l(null),this.reviews$=l([]),this.imageUrl$=l(null)}ngOnInit(){this.medication_id()&&(this.getMedicationById(this.medication_id()),this.getReviews(this.medication_id())),this.title.setTitle("Medication Reviews")}getMedicationById(r){a(this,e).getMedicationById(r).subscribe({next:t=>{this.medication$.set(t.data),t.data.image&&t.data.image._id&&a(this,e).getMedicationImageById(t.data.image._id).subscribe({next:p=>{let P=URL.createObjectURL(p);this.imageUrl$.set(P)},error:()=>a(this,i).navigate(["/medications","list"])})},error:()=>a(this,i).navigate(["/medications","list"])})}getReviews(r){a(this,e).getMedicationReviews(r).subscribe({next:t=>this.reviews$.set(t.data),error:()=>a(this,i).navigate(["/medications","list"])})}};e=new WeakMap,i=new WeakMap,n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v({type:n,selectors:[["app-list",8,"review"]],inputs:{medication_id:[1,"medication_id"]},standalone:!0,features:[k],attrs:S,decls:6,vars:0,consts:[[1,"page-container"],[1,"detail-container"],[1,"review-link",3,"routerLink"]],template:function(t,p){t&1&&(h(0,"div",0)(1,"div",1)(2,"h1"),m(3,"Medication Medical Review Lists"),d(),_(4,E,5,6,"a",2,T),d()()),t&2&&(s(4),w(p.reviews$()))},dependencies:[I],styles:[".page-container[_ngcontent-%COMP%]{height:70vh;overflow-y:auto;background-color:#f0f0f0;display:flex;justify-content:center;align-items:center}.detail-container[_ngcontent-%COMP%]{margin:20px auto;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 15px #0000001a;max-width:700px;width:100%;background-color:#f9f9f9;max-height:100vh;overflow-y:auto}h1[_ngcontent-%COMP%]{text-align:center;color:#00796b;font-size:2em;margin-bottom:20px}.review-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;padding:10px;border-radius:4px;transition:background-color .3s}.review-link[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]});let o=n;return o})();export{A as ListReviewComponent};
